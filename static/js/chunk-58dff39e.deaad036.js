(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58dff39e"],{"1b9c":function(t,e,l){"use strict";l.r(e);var n=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("vxe-grid",{ref:"tavleRef",attrs:{border:"",resizable:"","column-config":{useKey:!0},"row-config":{useKey:!0,height:35},"show-overflow":"",height:"auto",loading:t.loading,columns:t.tableColumn,data:t.tableData,"cell-style":t.tableCellStyle}})],1)},a=[],i=l("d96b"),r={data:function(){return{loading:!1,tablePage:{total:0,currentPage:1,pageSize:1e4},tableColumn:[{field:"inventoryid",title:"ID",visible:!1},{field:"product_name",title:'<span style="color:#909399;font-size:12px">产品名称</span>',type:"html",align:"center"},{field:"product_size",title:'<span style="color:#909399;font-size:12px">产品规格</span>',type:"html",align:"center"},{field:"unit_label",title:'<span style="color:#909399;font-size:12px">单位</span>',type:"html",align:"center",width:50},{field:"quantity",title:'<span style="color:#909399;font-size:12px">数量</span>',type:"html",align:"center",width:50},{field:"brand",title:'<span style="color:#909399;font-size:12px">品牌</span>',type:"html",align:"center"},{field:"material_certificate",title:'<span style="color:#909399;font-size:12px">材质</span>',type:"html",align:"center",width:60},{field:"material_type",title:'<span style="color:#909399;font-size:12px">类型</span>',type:"html",align:"center",width:60}],tableData:[],allData:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.startAutoScroll()})),this.getTableData(),this.timer=setInterval((function(){t.setDataBackend()}),6e4)},beforeDestroy:function(){this.stopAutoScroll(),this.timer&&clearInterval(this.timer)},methods:{startAutoScroll:function(){var t=this,e=this.$refs.tavleRef.$el.querySelector(".vxe-table--body-wrapper");if(e){var l=0,n=1;this.scrollDirection=1,this.scrollInterval=setInterval((function(){var a=e.scrollHeight-e.clientHeight;l>=a?t.scrollDirection=-1:l<=0&&(t.scrollDirection=1),l+=n*t.scrollDirection,e.scrollTop=l}),60)}else console.error("滚动容器未找到")},stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},getTableData:function(){var t=this;this.loading=!0;var e={action:"inventory_table_view",subaction:"query",pageNum:1,pageSize:1e4,searchForm:{material_type:"耗材"}};Object(i["a"])(e).then((function(e){t.tableData=e.data,t.loading=!1}))},tableCellStyle:function(t){var e=t.row,l=t.column,n=(t.rowIndex,t.columnIndex,{}),a=l["field"];return"quantity"===a&&(e[a]<5?(n.backgroundImage="radial-gradient(circle, #FF0000 50%, transparent 50%)",n.backgroundSize="12px 12px"):(n.backgroundImage="radial-gradient(circle, #ffffff 50%, transparent 50%)",n.backgroundSize="15px 15px",n.color="#000000"),n.backgroundRepeat="no-repeat",n.backgroundPosition="left center",n.borderRight="1px solid #e8eaec",n.borderBottom="1px solid #e8eaec"),n}}},o=r,c=(l("32b0"),l("2877")),s=Object(c["a"])(o,n,a,!1,null,"37fe6628",null);e["default"]=s.exports},"32b0":function(t,e,l){"use strict";l("795c")},"795c":function(t,e,l){}}]);