(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d96f507c"],{"196e":function(t,e,i){},"4e88":function(t,e,i){"use strict";i("196e")},"6f39":function(t,e,i){"use strict";i("f794")},"817d":function(t,e,i){var a,n,o;(function(r,l){n=[e,i("313e")],a=l,o="function"===typeof a?a.apply(e,n):a,void 0===o||(t.exports=o)})(0,(function(t,e){var i=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};if(e){var a=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],n={color:a,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:a[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:a},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};e.registerTheme("macarons",n)}else i("ECharts is not Loaded")}))},9406:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dashboard-editor-container"},[i("el-row",{staticClass:"lower-row",staticStyle:{height:"max-content"},attrs:{gutter:20}},[i("el-col",{staticStyle:{height:"100%",width:"100%"},attrs:{span:24}},[i("div",{staticClass:"title-panel",staticStyle:{"margin-bottom":"10px",width:"100%"}},[i("el-row",{staticStyle:{"margin-left":"20px",display:"flex","align-items":"center"}},[i("span",[t._v("排产图(近30天)")]),i("el-image",{staticStyle:{height:"17px",width:"auto","margin-left":"auto","margin-right":"20px"},attrs:{src:"http://192.168.1.223:8000/static/sign.png"}})],1)],1),i("PaiChan",{staticStyle:{height:"90%"}})],1)],1),i("el-row",{staticClass:"upper-row",staticStyle:{height:"100%"},attrs:{gutter:10}},[i("el-col",{attrs:{span:10}},[i("div",{staticClass:"title-panel",staticStyle:{"margin-bottom":"10px"}},[i("span",{staticStyle:{"margin-left":"20px"}},[t._v("出货计划")])]),i("Plan",{staticStyle:{height:"85%"}})],1),i("el-col",{staticStyle:{height:"100%"},attrs:{span:8}},[i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"title-panel"},[i("span",{staticStyle:{"margin-left":"20px"}},[t._v("生产进度看板")])]),i("el-row",t._l(t.chartdatalist,(function(e){return i("el-col",{key:e.title,staticStyle:{"margin-left":"20px"},attrs:{span:4}},[i("ring-chart",{attrs:{"chart-data":e}}),i("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("el-tag",[t._v("订单总数："+t._s(e.total_count))])],1),i("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("el-tag",[t._v("已完成数："+t._s(e.finished_count))])],1)],1)})),1)],1)]),i("el-col",{staticStyle:{height:"100%"},attrs:{span:6}},[i("div",{staticClass:"title-panel",staticStyle:{"margin-bottom":"10px"}},[i("span",{staticStyle:{"margin-left":"20px"}},[t._v("库存列表")])]),i("InventoryTable",{staticStyle:{height:"85%"}})],1)],1)],1)},n=[],o=i("b85c"),r=(i("d3b7"),i("3ca3"),i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{width:t.width,height:t.height}},[i("div",{class:t.className,style:{height:t.height,width:t.width}})])}),l=[],s=i("313e"),c=i.n(s),d=i("ed08"),h={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(d["b"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};i("817d");var u={mixins:[h],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"130px"},chartData:{type:Object,required:!0}},data:function(){return{chart:null,chartoption:{color:["#409EFF","#C0C4CC"],title:{text:"切割",left:"center",textStyle:{color:"#333",fontSize:16},top:"43%"},tooltip:{show:!1},legend:{show:!1},series:[{name:"",type:"pie",radius:["60%","80%"],label:{show:!1},labelLine:{show:!1},data:[]}]}}},watch:{chartData:{deep:!0,handler:function(t){console.log("chartData change, globalForm: ",t),this.chartoption.title.text=t.title,this.chartoption.series[0].data=t.data,this.chart.setOption(this.chartoption),this.getPictureData(t)}}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=c.a.init(this.$el,"macarons"),this.chart.setOption(this.chartoption)},getPictureData:function(t){}}},f=u,m=(i("6f39"),i("2877")),p=Object(m["a"])(f,r,l,!1,null,"63b5acb8",null),b=p.exports,y=i("d96b"),g={name:"Dashboard",components:{RingChart:b,PaiChan:function(){return i.e("chunk-735a0b16").then(i.bind(null,"a505"))},InventoryTable:function(){return i.e("chunk-0301e966").then(i.bind(null,"1b9c"))},Plan:function(){return i.e("chunk-2d0b95d4").then(i.bind(null,"3342"))}},data:function(){return{chartdatalist:[],initialCount:0,processlist:["切割","验焊","折弯","组装","焊接","镀锌","喷涂","攻牙","打磨","包装"],currentTime:(new Date).toLocaleTimeString(),timer:null,drawTiming:""}},mounted:function(){var t=this;this.$nextTick((function(){t.setDataBackend()})),this.timer=setInterval((function(){t.setDataBackend()}),1e3),this.timer=setInterval((function(){t.setDataBackend()}),6e5)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},methods:{drawTimingFn:function(){this.setDataBackend()},setDataBackend:function(){var t=this,e={action:"complex_view",subaction:"get_processname_info"};this.initialCount>=5||(Object(y["a"])(e).then((function(e){console.log(e.data),t.chartdatalist=[];var i,a=Object(o["a"])(e.data);try{for(a.s();!(i=a.n()).done;){var n=i.value,r=n["process_name"];-1!==t.processlist.indexOf(r)&&t.chartdatalist.push({tick:Date.now(),title:r,finished_count:n["finished_count"],total_count:n["total_count"],data:[{value:n["finished_count"],name:"已完成"},{value:n["total_count"]-n["finished_count"],name:"未完成"}]})}}catch(l){a.e(l)}finally{a.f()}console.log(t.chartdatalist)})),this.initialCount+=1)}}},v=g,_=(i("4e88"),Object(m["a"])(v,a,n,!1,null,"c49d838e",null));e["default"]=_.exports},d96b:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var a=i("b775");function n(t){return Object(a["a"])({url:"/vue-element-admin/backend/process/",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/vue-element-admin/backend/download_file/",method:"get",params:t})}},f794:function(t,e,i){}}]);