(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0301e966"],{"1b9c":function(t,l,e){"use strict";e.r(l);var o=function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",{on:{mouseover:t.stopAutoScroll,mouseleave:t.startAutoScroll}},[e("vxe-grid",{ref:"tavleRef",attrs:{border:"",resizable:"","column-config":{useKey:!0},"row-config":{useKey:!0,height:35},"show-overflow":"",height:"auto",loading:t.loading,columns:t.tableColumn,data:t.tableData,"cell-style":t.tableCellStyle},on:{scroll:t.handleScroll}})],1)},i=[],n=e("d96b"),r={data:function(){return{loading:!1,tablePage:{total:0,currentPage:1,pageSize:1e4},tableColumn:[{field:"inventoryid",title:"ID",visible:!1},{field:"product_name",title:'<span style="color:#909399;font-size:12px">产品名称</span>',type:"html",align:"center"},{field:"product_size",title:'<span style="color:#909399;font-size:12px">产品规格</span>',type:"html",align:"center"},{field:"unit_label",title:'<span style="color:#909399;font-size:12px">单位</span>',type:"html",align:"center",width:50},{field:"quantity",title:'<span style="color:#909399;font-size:12px">数量</span>',type:"html",align:"center",width:50},{field:"material_type",title:'<span style="color:#909399;font-size:12px">类型</span>',type:"html",align:"center",width:60}],tableData:[],allData:[],scrollInterval:null,scrollDirection:1,scrollPosition:0,maxScrollTop:0,oldScrollPosition:null,isAutoScrolling:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.startAutoScroll()})),this.getTableData(),this.timer=setInterval((function(){t.getTableData()}),3e5)},beforeDestroy:function(){this.stopAutoScroll(),this.timer&&clearInterval(this.timer)},methods:{startAutoScroll:function(){var t=this;this.isAutoScrolling=!0;var l=this.$refs.tavleRef.$el.querySelector(".vxe-table--body-wrapper");if(l){var e=1;this.scrollInterval=setInterval((function(){t.maxScrollTop=l.scrollHeight-l.clientHeight,t.scrollPosition>=t.maxScrollTop?t.scrollDirection=-1:t.scrollPosition<=0&&(t.scrollDirection=1),t.scrollPosition+=e*t.scrollDirection,l.scrollTop=t.scrollPosition}),60)}else console.error("滚动容器未找到")},stopAutoScroll:function(){this.isAutoScrolling=!1,this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},handleScroll:function(t){var l=t.scrollTop;if(!this.isAutoScrolling){var e=l;e>this.scrollPosition?this.scrollDirection=1:e<this.scrollPosition&&(this.scrollDirection=-1),this.scrollPosition=e}},getTableData:function(){var t=this;this.loading=!0;var l={action:"inventory_table_view",subaction:"query",pageNum:1,pageSize:1e4,searchForm:{material_type:"耗材"}};Object(n["a"])(l).then((function(l){t.tableData=l.data,t.loading=!1}))},tableCellStyle:function(t){var l=t.row,e=t.column,o=(t.rowIndex,t.columnIndex,{}),i=e["field"];return"quantity"===i&&(l[i]<5?(o.backgroundImage="radial-gradient(circle, #FF0000 50%, transparent 50%)",o.backgroundSize="12px 12px"):(o.backgroundImage="radial-gradient(circle, #ffffff 50%, transparent 50%)",o.backgroundSize="15px 15px",o.color="#000000"),o.backgroundRepeat="no-repeat",o.backgroundPosition="left center",o.borderRight="1px solid #e8eaec",o.borderBottom="1px solid #e8eaec"),o}}},a=r,s=(e("2f9f"),e("2877")),c=Object(s["a"])(a,o,i,!1,null,"ab2d1816",null);l["default"]=c.exports},"2f9f":function(t,l,e){"use strict";e("5075")},5075:function(t,l,e){}}]);