(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0bc4cb4"],{"1b9c":function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{on:{mouseover:e.stopAutoScroll,mouseleave:e.startAutoScroll}},[l("vxe-grid",{ref:"tavleRef",attrs:{border:"",resizable:"","column-config":{useKey:!0},"row-config":{useKey:!0,height:35},"show-overflow":"",height:"auto",loading:e.loading,columns:e.tableColumn,data:e.tableData,"cell-style":e.tableCellStyle},on:{scroll:e.handleScroll}})],1)},r=[],n=l("d96b"),a={data:function(){return{loading:!1,tablePage:{total:0,currentPage:1,pageSize:1e4},tableColumn:[{field:"inventoryid",title:"ID",visible:!1},{field:"product_name",title:'<span style="color:#909399;font-size:12px">产品名称</span>',type:"html",align:"center"},{field:"product_size",title:'<span style="color:#909399;font-size:12px">产品规格</span>',type:"html",align:"center"},{field:"unit_label",title:'<span style="color:#909399;font-size:12px">单位</span>',type:"html",align:"center",width:50},{field:"quantity",title:'<span style="color:#909399;font-size:12px">数量</span>',type:"html",align:"center",width:50},{field:"brand",title:'<span style="color:#909399;font-size:12px">品牌</span>',type:"html",align:"center"},{field:"material_certificate",title:'<span style="color:#909399;font-size:12px">材质</span>',type:"html",align:"center",width:60},{field:"material_type",title:'<span style="color:#909399;font-size:12px">类型</span>',type:"html",align:"center",width:60}],tableData:[],allData:[],scrollInterval:null,scrollDirection:1,scrollPosition:0}},created:function(){},mounted:function(){var e=this;this.$nextTick((function(){e.startAutoScroll()})),this.getTableData(),this.timer=setInterval((function(){e.setDataBackend()}),3e5);var t=this.$refs.tavleRef.$el.querySelector(".vxe-table--body-wrapper");t&&t.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){this.stopAutoScroll();var e=this.$refs.tavleRef.$el.querySelector(".vxe-table--body-wrapper");e&&e.removeEventListener("scroll",this.handleScroll),this.timer&&clearInterval(this.timer)},methods:{startAutoScroll:function(){var e=this,t=this.$refs.tavleRef.$el.querySelector(".vxe-table--body-wrapper");if(t){var l=1;this.scrollInterval=setInterval((function(){var o=t.scrollHeight-t.clientHeight;e.scrollPosition>=o?e.scrollDirection=-1:e.scrollPosition<=0&&(e.scrollDirection=1),e.scrollPosition+=l*e.scrollDirection,t.scrollTop=e.scrollPosition}),60)}else console.error("滚动容器未找到")},stopAutoScroll:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},handleScroll:function(e){var t=e.target.scrollTop;this.scrollDirection=1,this.scrollPosition=t},getTableData:function(){var e=this;this.loading=!0;var t={action:"inventory_table_view",subaction:"query",pageNum:1,pageSize:1e4,searchForm:{material_type:"耗材"}};Object(n["a"])(t).then((function(t){e.tableData=t.data,e.loading=!1}))},tableCellStyle:function(e){var t=e.row,l=e.column,o=(e.rowIndex,e.columnIndex,{}),r=l["field"];return"quantity"===r&&(t[r]<5?(o.backgroundImage="radial-gradient(circle, #FF0000 50%, transparent 50%)",o.backgroundSize="12px 12px"):(o.backgroundImage="radial-gradient(circle, #ffffff 50%, transparent 50%)",o.backgroundSize="15px 15px",o.color="#000000"),o.backgroundRepeat="no-repeat",o.backgroundPosition="left center",o.borderRight="1px solid #e8eaec",o.borderBottom="1px solid #e8eaec"),o}}},i=a,s=(l("6b33"),l("2877")),c=Object(s["a"])(i,o,r,!1,null,"48c8046a",null);t["default"]=c.exports},"6b33":function(e,t,l){"use strict";l("717a")},"717a":function(e,t,l){}}]);